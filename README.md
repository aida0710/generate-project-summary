# Generate Project Summary 
このPythonスクリプトは、プロジェクトのフォルダ構造を走査し、ファイルとその内容のMarkdown表現を作成することでプロジェクトのサマリーを生成します。プロジェクトの構造とファイルの内容を1つのMarkdownファイルにまとめて文書化するのに便利な方法を提供します。

## 特徴
- プロジェクトのフォルダ構造のMarkdownサマリーを生成します。
- 各ファイルの内容をサマリーに含めます。
- `.gitignore`と`.summaryignore`ファイルを使用して、特定のファイルとフォルダを除外できます。
- 複数のエンコーディング（UTF-8、Shift-JIS、Latin-1）を試すことで、ファイルのエンコーディングの問題を処理します。
- 生成されたサマリーを`<project_name>_project_summary.txt`という名前のファイルに保存します。
- 実行履歴を保持し、以前分析したプロジェクトを簡単に再選択できます。

## ファイル構成
- `main.py` - コマンドラインインターフェースとエントリーポイント
- `summary_generator.py` - プロジェクトサマリー生成機能
- `history_manager.py` - 実行履歴の管理

## 使用方法

### コマンドラインから直接実行
```
python main.py [プロジェクトパス]
```

### 引数なしで実行
```
python main.py
```
引数なしで実行すると：
- 履歴がある場合：履歴リストが表示され、その中から選択するか新しいパスを入力できます
- 履歴がない場合：パスの入力を求められます

### 例
```
$ python main.py
履歴からプロジェクトディレクトリを選択してください:
[1] /path/to/project1
[2] /path/to/project2

選択番号またはパスを入力してください（空白の場合は終了）: 1
```

または新しいプロジェクトパスを直接指定：
```
$ python main.py /path/to/new/project
```

## ファイルとフォルダの除外
プロジェクトのルートディレクトリに`.gitignore`と`.summaryignore`ファイルを作成することで、プロジェクトのサマリーから特定のファイルとフォルダを除外できます。これらのファイルには、除外したいパターンやファイル/フォルダ名を1行に1つずつ記述します。

- `.gitignore`ファイルは、Gitなどのバージョンコントロールシステムからファイルとフォルダを除外するためによく使用されます。
- `.summaryignore`ファイルはこのスクリプト専用で、プロジェクトのサマリーから追加のファイルとフォルダを除外できます。

## 履歴管理
実行履歴は`project_summary_history.txt`に保存され、最大20件の履歴を保持します。同じパスが再度使用された場合、リストの先頭に移動します。

## 依存関係
このスクリプトは外部の依存関係を必要としません。Pythonの組み込みの`os`、`fnmatch`、`argparse`モジュールを使用します。

## エラー処理
- ファイルの読み取りエラー、エンコーディングの問題、アクセス権の制限に対する堅牢なエラー処理を含みます。
- エラーが発生した場合、分かりやすい日本語のメッセージで通知します。

## 貢献
貢献は大歓迎です！問題を見つけたり、改善のための提案がある場合は、GitHubリポジトリでissueを開いたり、プルリクエストを送信してください。

## ライセンス
このプロジェクトはMITライセンスの下でライセンスされています。